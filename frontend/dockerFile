# Frontend : React + Vite
FROM node:20-alpine

WORKDIR /app

# Installer pnpm
RUN npm install -g pnpm

# Copier package.json et pnpm-lock.yaml
COPY package.json pnpm-lock.yaml ./

# Installer les d√©pendances
RUN pnpm install

# Copier tout le code
COPY . .

# Build du front
RUN pnpm build

# Installer serve pour servir les fichiers statiques
RUN npm install -g serve

# Exposer le port
EXPOSE 4173

# Lancer le serveur
CMD ["serve", "-s", "dist", "-l", "4173"]
